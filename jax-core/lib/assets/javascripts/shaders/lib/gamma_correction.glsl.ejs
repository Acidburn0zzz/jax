void GammaCorrection(float factor, inout vec3 color) {
  if (factor == 0.0) {
    // sRGB
    vec3 c = color;
    color = (step(0.0031308, c)*1.055*pow(c, vec3(1.0/2.4))-0.055) +
            (step(-0.0031308, -c)*12.92*c);
  } else {
    color = pow(color, vec3(factor));
  }
}
