precision mediump float;
precision mediump int;

#define MAX_LIGHTS <%= Jax.Material.Surface.MAX_LIGHTS_PER_PASS %>

uniform float MaterialAmbientIntensity,
              MaterialDiffuseIntensity,
              MaterialSpecularIntensity,
              MaterialShininess,
              LightSpotInnerCos[MAX_LIGHTS],
              LightSpotOuterCos[MAX_LIGHTS],
              LightConstantAttenuation[MAX_LIGHTS],
              LightLinearAttenuation[MAX_LIGHTS],
              LightQuadraticAttenuation[MAX_LIGHTS];
uniform mat4  ModelMatrix, ViewMatrix,
              ProjectionMatrix;
uniform mat3  NormalMatrix;
uniform vec4  WorldAmbientColor,
              MaterialAmbientColor,
              MaterialDiffuseColor,
              MaterialSpecularColor,
              LightAmbientColor[MAX_LIGHTS],
              LightDiffuseColor[MAX_LIGHTS],
              LightSpecularColor[MAX_LIGHTS];
uniform vec3  EyeSpaceLightDirection[MAX_LIGHTS],
              EyeSpaceLightPosition[MAX_LIGHTS];
uniform int   LightType[MAX_LIGHTS];
uniform bool  LightEnabled[MAX_LIGHTS],
              WorldAmbientEnabled;

varying vec4  vVertexColor;
varying vec3  vEyeSpaceSurfacePosition,
              vEyeSpaceSurfaceNormal;


  uniform bool IsDualParaboloid[MAX_LIGHTS];
  uniform bool SHADOWMAP_ENABLED[MAX_LIGHTS];
  uniform sampler2D SHADOWMAP0[MAX_LIGHTS], SHADOWMAP1[MAX_LIGHTS];
  uniform mat4 SHADOWMAP_MATRIX[MAX_LIGHTS];
  uniform float ParaboloidNear[MAX_LIGHTS], ParaboloidFar[MAX_LIGHTS];
  uniform float SHADOWMAP_WIDTH[MAX_LIGHTS], SHADOWMAP_HEIGHT[MAX_LIGHTS];

  varying vec4 vShadowCoord[MAX_LIGHTS];
