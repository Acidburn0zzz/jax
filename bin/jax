#!/usr/bin/env ruby
require "rubygems"
require "thor"
require "thor/group"

class JaxGeneratorInvoker < Thor
  def self.basename
    "jax generate"
  end

  desc "controller", "generates a new JAX controller"
  def controller(*args)
    Jax::Generators::Controller::ControllerGenerator.start
  end
end
  
class JaxGenerator < Thor
  desc "new", "generates a new JAX application"
  def new(*args)
    ARGV.shift # we've already processed the command
    Jax::Generators::App::AppGenerator.start
  end

  desc "generate", "generates a new controller or model"
  def generate(*args)
    ARGV.shift
    JaxGeneratorInvoker.start
  end
end

require File.join(File.expand_path(File.dirname(__FILE__)), "../lib/jax/generators/commands")
JaxGenerator.start
